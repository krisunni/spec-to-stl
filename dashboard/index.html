<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'><polygon points='16,2 28,12 22,30 10,30 4,12' fill='%234A9BD9' stroke='%23C8E6F0' stroke-width='2'/></svg>">
    <title>Spec-to-STL - Generative 3D Prints</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #0a0a0f;
            --bg-secondary: #12121a;
            --bg-tertiary: #1a1a25;
            --accent-blue: #3b82f6;
            --accent-purple: #8b5cf6;
            --accent-cyan: #06b6d4;
            --accent-green: #10b981;
            --accent-orange: #f59e0b;
            --accent-red: #ef4444;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --border-color: #2d2d3a;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            padding: 20px;
        }

        .container { max-width: 1400px; margin: 0 auto; }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border-color);
        }

        h1 {
            font-size: 1.8rem;
            background: linear-gradient(135deg, var(--text-primary), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .version-badge {
            background: var(--bg-tertiary);
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9rem;
            border: 1px solid var(--border-color);
        }

        .nav-links {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .nav-links a {
            padding: 10px 20px;
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .nav-links a:hover, .nav-links a.active {
            background: var(--accent-blue);
            color: white;
            border-color: var(--accent-blue);
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 60px 20px 50px;
            margin-bottom: 40px;
        }

        .hero-title {
            font-size: 2.8rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--text-primary), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 12px;
        }

        .hero-tagline {
            font-size: 1.25rem;
            color: var(--accent-cyan);
            margin-bottom: 24px;
            font-weight: 400;
        }

        .hero-pitch {
            font-size: 1.05rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto 40px;
            line-height: 1.7;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            display: block;
        }

        .hero-stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Project Cards */
        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 24px;
            color: var(--text-primary);
        }

        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 50px;
        }

        .project-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            text-decoration: none;
            transition: border-color 0.2s, transform 0.2s;
            display: block;
        }

        .project-card:hover {
            border-color: var(--accent-cyan);
            transform: translateY(-2px);
        }

        .project-card-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .project-card-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--accent-cyan);
        }

        .project-card-version {
            background: var(--bg-tertiary);
            padding: 3px 10px;
            border-radius: 6px;
            font-size: 0.75rem;
            color: var(--text-muted);
            border: 1px solid var(--border-color);
        }

        .project-card-desc {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .project-card-meta {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .project-card-stat {
            font-size: 0.8rem;
            color: var(--text-muted);
        }

        .project-card-stat strong {
            color: var(--text-secondary);
        }

        .project-card-colors {
            display: flex;
            gap: 4px;
            margin-top: 12px;
        }

        .project-color-dot {
            width: 16px;
            height: 16px;
            border-radius: 50%;
            border: 1px solid rgba(255,255,255,0.15);
        }

        /* Timeline */
        .timeline {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 50px;
        }

        .timeline-step {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px 16px;
            text-align: center;
            position: relative;
            transition: border-color 0.2s;
        }

        .timeline-step:hover {
            border-color: var(--accent-blue);
        }

        .timeline-step a {
            color: inherit;
            text-decoration: none;
        }

        .step-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--accent-blue);
            color: white;
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 12px;
        }

        .step-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 6px;
        }

        .step-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
            line-height: 1.4;
        }

        /* Architecture Card */
        .arch-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
        }

        .arch-pipeline {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            flex-wrap: wrap;
            margin-bottom: 24px;
            font-size: 0.95rem;
        }

        .arch-node {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            padding: 8px 16px;
            border-radius: 6px;
            color: var(--accent-cyan);
            font-family: 'Courier New', monospace;
            font-size: 0.85rem;
        }

        .arch-arrow {
            color: var(--text-muted);
            font-size: 1.2rem;
        }

        .tech-badges {
            display: flex;
            justify-content: center;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 16px;
        }

        .tech-badge {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            padding: 6px 14px;
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .arch-tagline {
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
            font-style: italic;
        }

        /* Live Data */
        .live-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 20px;
        }

        .card h3 {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-bottom: 16px;
        }

        .stat-row {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
            font-size: 0.9rem;
        }

        .stat-row:last-child { border-bottom: none; }

        .stat-row-label { color: var(--text-secondary); }
        .stat-row-value { color: var(--text-primary); font-weight: 600; }

        /* Quick Links */
        .quick-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px;
            margin-bottom: 50px;
        }

        .quick-link {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 16px;
            text-decoration: none;
            transition: border-color 0.2s;
            display: block;
        }

        .quick-link:hover { border-color: var(--accent-blue); }

        .quick-link-title {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--accent-blue);
            margin-bottom: 4px;
        }

        .quick-link-desc {
            font-size: 0.8rem;
            color: var(--text-muted);
            line-height: 1.4;
        }

        /* About */
        .about-section {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 40px;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }

        .about-section h3 {
            font-size: 1.1rem;
            color: var(--text-primary);
            margin-bottom: 12px;
        }

        .about-section p {
            font-size: 0.95rem;
            color: var(--text-secondary);
            line-height: 1.7;
            margin-bottom: 12px;
        }

        .about-section p:last-child { margin-bottom: 0; }

        .about-links {
            display: flex;
            gap: 16px;
            margin-top: 16px;
            flex-wrap: wrap;
        }

        .about-links a {
            color: var(--accent-blue);
            text-decoration: none;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .about-links a:hover { text-decoration: underline; }

        #loading {
            text-align: center;
            padding: 50px;
            color: var(--text-muted);
        }

        @media (max-width: 768px) {
            .hero-title { font-size: 2rem; }
            .hero-stats { gap: 24px; }
            .hero-stat-value { font-size: 2rem; }
            .timeline { grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); }
            .arch-pipeline { font-size: 0.8rem; }
            .project-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1 id="project-name">Spec-to-STL</h1>
            <div class="version-badge" id="version">Loading...</div>
        </header>

        <nav class="nav-links">
            <a href="index.html" class="active">Home</a>
            <a href="overview.html">Overview</a>
            <a href="components.html">Components</a>
            <a href="features.html">Features</a>
            <a href="tasks.html">Tasks</a>
            <a href="changelog.html">Changelog</a>
            <a href="glossary.html">Glossary</a>
            <a href="spec-viewer.html">Spec Sheet</a>
        </nav>

        <div id="loading">Loading...</div>

        <div id="content" style="display: none;">
            <!-- Hero -->
            <section class="hero">
                <h2 class="hero-title">Spec-to-STL</h2>
                <p class="hero-tagline">Generative 3D prints from JSON specs</p>
                <p class="hero-pitch">
                    A collection of 3D-printable designs built entirely from machine-readable specs.
                    JSON files define every dimension, color, and constraint. FreeCAD Python scripts generate
                    parametric geometry. A headless pipeline exports print-ready files. A vanilla JS dashboard
                    visualizes it all. No frameworks, no build step.
                </p>
                <div class="hero-stats">
                    <div class="hero-stat">
                        <span class="hero-stat-value" id="stat-projects">2</span>
                        <span class="hero-stat-label">Projects</span>
                    </div>
                    <div class="hero-stat">
                        <span class="hero-stat-value" id="stat-components">9</span>
                        <span class="hero-stat-label">Components</span>
                    </div>
                    <div class="hero-stat">
                        <span class="hero-stat-value" id="stat-colors">7</span>
                        <span class="hero-stat-label">Colors</span>
                    </div>
                    <div class="hero-stat">
                        <span class="hero-stat-value" id="stat-scripts">2</span>
                        <span class="hero-stat-label">Scripts</span>
                    </div>
                </div>
            </section>

            <!-- Projects -->
            <h2 class="section-title">Projects</h2>
            <div class="project-grid" id="project-grid"></div>

            <!-- Process Timeline -->
            <h2 class="section-title">End-to-End Pipeline</h2>
            <div class="timeline">
                <div class="timeline-step">
                    <a href="overview.html">
                        <span class="step-number">1</span>
                        <span class="step-title">Spec</span>
                        <span class="step-desc">Define dimensions, constraints, and interfaces in JSON</span>
                    </a>
                </div>
                <div class="timeline-step">
                    <a href="components.html">
                        <span class="step-number">2</span>
                        <span class="step-title">Generate</span>
                        <span class="step-desc">FreeCAD Python scripts create parametric 3D models</span>
                    </a>
                </div>
                <div class="timeline-step">
                    <a href="glossary.html">
                        <span class="step-number">3</span>
                        <span class="step-title">Export</span>
                        <span class="step-desc">Pipeline assigns colors, exports multi-color 3MF + STLs</span>
                    </a>
                </div>
                <div class="timeline-step">
                    <a href="spec-viewer.html">
                        <span class="step-number">4</span>
                        <span class="step-title">Visualize</span>
                        <span class="step-desc">Three.js dashboard renders interactive 3D views per project</span>
                    </a>
                </div>
                <div class="timeline-step">
                    <a href="glossary.html">
                        <span class="step-number">5</span>
                        <span class="step-title">Print</span>
                        <span class="step-desc">Slice, print, assemble with snap-fit mounts + magnets</span>
                    </a>
                </div>
                <div class="timeline-step">
                    <a href="tasks.html">
                        <span class="step-number">6</span>
                        <span class="step-title">Track</span>
                        <span class="step-desc">State-driven JSON tracks components, features, tasks</span>
                    </a>
                </div>
            </div>

            <!-- Architecture -->
            <div class="arch-card">
                <h2 class="section-title" style="text-align: center;">Architecture</h2>
                <div class="arch-pipeline">
                    <span class="arch-node">spec.json</span>
                    <span class="arch-arrow">&rarr;</span>
                    <span class="arch-node">FreeCAD Python</span>
                    <span class="arch-arrow">&rarr;</span>
                    <span class="arch-node">pipeline</span>
                    <span class="arch-arrow">&rarr;</span>
                    <span class="arch-node">STL / 3MF</span>
                    <span class="arch-arrow">&rarr;</span>
                    <span class="arch-node">dashboard</span>
                </div>
                <div class="tech-badges">
                    <span class="tech-badge">FreeCAD</span>
                    <span class="tech-badge">Python</span>
                    <span class="tech-badge">Three.js</span>
                    <span class="tech-badge">Vanilla HTML/JS</span>
                    <span class="tech-badge">JSON</span>
                </div>
                <p class="arch-tagline">No frameworks, no build step, no dependencies</p>
            </div>

            <!-- Live Data -->
            <h2 class="section-title">Live Project Data</h2>
            <div class="live-grid">
                <div class="card">
                    <h3>Repository Stats</h3>
                    <div id="project-stats">
                        <div class="stat-row">
                            <span class="stat-row-label">Projects</span>
                            <span class="stat-row-value" id="stat-proj-count">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-row-label">Total Components</span>
                            <span class="stat-row-value" id="stat-comp-count">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-row-label">Features</span>
                            <span class="stat-row-value" id="stat-feat-count">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-row-label">Open Tasks</span>
                            <span class="stat-row-value" id="stat-task-count">-</span>
                        </div>
                        <div class="stat-row">
                            <span class="stat-row-label">Version</span>
                            <span class="stat-row-value" id="stat-version">-</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Quick Links -->
            <h2 class="section-title">Explore the Dashboard</h2>
            <div class="quick-links">
                <a href="overview.html" class="quick-link">
                    <div class="quick-link-title">Overview</div>
                    <div class="quick-link-desc">Project status, components, and recent activity at a glance</div>
                </a>
                <a href="components.html" class="quick-link">
                    <div class="quick-link-title">Components</div>
                    <div class="quick-link-desc">All printable parts with dimensions, materials, and settings</div>
                </a>
                <a href="features.html" class="quick-link">
                    <div class="quick-link-title">Features</div>
                    <div class="quick-link-desc">Feature roadmap with phase tracking and progress</div>
                </a>
                <a href="tasks.html" class="quick-link">
                    <div class="quick-link-title">Tasks</div>
                    <div class="quick-link-desc">Open tasks, bugs, and priorities across all projects</div>
                </a>
                <a href="changelog.html" class="quick-link">
                    <div class="quick-link-title">Changelog</div>
                    <div class="quick-link-desc">Version history and detailed change log</div>
                </a>
                <a href="glossary.html" class="quick-link">
                    <div class="quick-link-title">Glossary</div>
                    <div class="quick-link-desc">Spec-driven development concepts and methodology</div>
                </a>
                <a href="spec-viewer.html" class="quick-link">
                    <div class="quick-link-title">Spec Sheet</div>
                    <div class="quick-link-desc">Interactive 3D viewer with project switcher and engineering data</div>
                </a>
            </div>

            <!-- About -->
            <section class="about-section">
                <h3>About This Project</h3>
                <p>
                    Built by a software engineer with zero CAD experience. Spec-driven development
                    bridges the gap between software engineering and hardware design. Define everything
                    in structured data, generate geometry from code, and track progress the same way
                    you manage a software project.
                </p>
                <p>
                    Every dimension, color, and constraint lives in a JSON spec file. FreeCAD Python
                    scripts read those parameters to generate parametric components. The pipeline
                    exports print-ready files. And this dashboard renders it all live from the same
                    state files. No manual sync, no stale documentation.
                </p>
                <div class="about-links">
                    <a href="https://github.com/krisunni/spec-to-stl" target="_blank" rel="noopener">GitHub Repository</a>
                    <a href="https://linkedin.com/in/kunnikannan" target="_blank" rel="noopener">LinkedIn</a>
                </div>
            </section>
        </div>
    </div>

    <script>
        async function loadData() {
            try {
                var responses = await Promise.all([
                    fetch('../.state/spec.json').then(function(r) { return r.json(); }),
                    fetch('../.state/system.json').then(function(r) { return r.json(); }),
                    fetch('../.state/features.json').then(function(r) { return r.json(); }),
                    fetch('../.state/tasks.json').then(function(r) { return r.json(); }),
                    fetch('../.state/components.json').then(function(r) { return r.json(); })
                ]);

                var spec = responses[0];
                var system = responses[1];
                var features = responses[2];
                var tasks = responses[3];
                var componentsData = responses[4];

                document.getElementById('loading').style.display = 'none';
                document.getElementById('content').style.display = 'block';

                // Header
                document.getElementById('project-name').textContent = system.name || 'Spec-to-STL';
                document.getElementById('version').textContent = system.version + ' | ' + system.lastUpdated;

                // Hero stats
                var projects = spec.projects || [];
                var totalComponents = 0;
                var totalColors = 0;
                projects.forEach(function(proj) {
                    totalComponents += proj.components.length;
                    totalColors += Object.keys(proj.colors).length;
                });

                document.getElementById('stat-projects').textContent = projects.length;
                document.getElementById('stat-components').textContent = totalComponents;
                document.getElementById('stat-colors').textContent = totalColors;
                document.getElementById('stat-scripts').textContent = projects.length;

                // Project cards
                var projectGrid = document.getElementById('project-grid');
                projects.forEach(function(proj) {
                    var card = document.createElement('a');
                    card.href = 'spec-viewer.html';
                    card.className = 'project-card';

                    var colorsHtml = '';
                    for (var colorName in proj.colors) {
                        colorsHtml += '<span class="project-color-dot" style="background:' + proj.colors[colorName].hex + '" title="' + colorName.replace(/-/g, ' ') + '"></span>';
                    }

                    card.innerHTML =
                        '<div class="project-card-header">' +
                        '  <span class="project-card-name">' + proj.name + '</span>' +
                        '  <span class="project-card-version">v' + proj.version + '</span>' +
                        '</div>' +
                        '<p class="project-card-desc">' + proj.description + '</p>' +
                        '<div class="project-card-meta">' +
                        '  <span class="project-card-stat"><strong>' + proj.components.length + '</strong> components</span>' +
                        '  <span class="project-card-stat"><strong>' + Object.keys(proj.colors).length + '</strong> colors</span>' +
                        '  <span class="project-card-stat">Script: <strong>' + proj.script + '</strong></span>' +
                        '</div>' +
                        '<div class="project-card-colors">' + colorsHtml + '</div>';
                    projectGrid.appendChild(card);
                });

                // Project stats
                document.getElementById('stat-proj-count').textContent = projects.length;
                document.getElementById('stat-comp-count').textContent = componentsData.components.length;
                document.getElementById('stat-feat-count').textContent = features.features.length;
                var openTasks = tasks.summary.pending + tasks.summary.inProgress;
                document.getElementById('stat-task-count').textContent = openTasks;
                document.getElementById('stat-version').textContent = system.version;

            } catch (error) {
                document.getElementById('loading').innerHTML =
                    '<p style="color: var(--accent-red);">Error loading data: ' + error.message + '</p>' +
                    '<p style="margin-top: 10px;">Make sure to serve this file from a web server (not file://).</p>' +
                    '<p style="font-size: 0.85rem; margin-top: 10px;">Run: <code>python -m http.server 8000</code> in the project directory</p>';
            }
        }

        loadData();
    </script>
    <footer style="margin-top:60px;padding:30px 20px;border-top:1px solid var(--border-color);text-align:center;font-size:11px;color:var(--text-muted);line-height:1.6;max-width:800px;margin-left:auto;margin-right:auto;">
        <p style="margin-bottom:8px;"><strong style="color:var(--text-secondary);">Trademark Notice</strong></p>
        <p>This is an independent fan project. It is not produced, endorsed, supported, or affiliated with DC Comics, Warner Bros. Discovery, or any of their subsidiaries or affiliates.</p>
        <p style="margin-top:6px;">DC, DC Comics, Superman, Krypton, Fortress of Solitude, Phantom Zone, and all related characters, names, and indicia are trademarks of and &copy; DC Comics and/or Warner Bros. Discovery. Raspberry Pi is a trademark of Raspberry Pi Ltd. All other trademarks are the property of their respective owners.</p>
        <p style="margin-top:12px;">
            <a href="https://github.com/krisunni/spec-to-stl" target="_blank" rel="noopener" style="color:var(--text-muted);text-decoration:none;margin-right:16px;">GitHub</a>
            <a href="https://linkedin.com/in/kunnikannan" target="_blank" rel="noopener" style="color:var(--text-muted);text-decoration:none;">LinkedIn</a>
        </p>
    </footer>
</body>
</html>
